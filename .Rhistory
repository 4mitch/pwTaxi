#set up variables
sqlConnString <- "Driver=SQL Server;Server=JrsSql2016e;Database=taxi;Uid=RServicesUser;Pwd=RServicesUser"
trainTable <- "nyctaxi_sample"
sqlRowsPerRead = 5000
#Create the data set
sqlTaxiDS <- RxSqlServerData(connectionString = sqlConnString,
table = trainTable, rowsPerRead = sqlRowsPerRead)
#Get some basic information on the table
rxGetVarInfo(data = sqlTaxiDS)
#Need a local cache directory
sqlShareDir <- paste("c:\\AllShare\\", Sys.getenv("USERNAME"), sep="")
dir.create(sqlShareDir, recursive = TRUE)
sqlWait <- TRUE
sqlConsoleOutput <- FALSE
sqlCompute <- RxInSqlServer(connectionString = sqlConnString, shareDir = sqlShareDir,
wait = sqlWait,  consoleOutput = sqlConsoleOutput)
# Set the compute context to compute in SQL Server
rxSetComputeContext(sqlCompute)
rxSummary(formula = ~target_pickup_hour + target_pickup_dw, data = sqlTaxiDS)
rxSetComputeContext(computeContext = 'local')
rxSetComputeContext(sqlCompute)
rxSummary(formula = ~fare_amount + tip_amount, data = sqlTaxiDS)
rxHistogram(~fare_amount, data = sqlTaxiDS,numBreaks = 20 )
rxHistogram(~fare_amount, data = sqlTaxiDS,numBreaks = 20,startVal = 0, endVal = 300 )
rxHistogram(~fare_amount, data = sqlTaxiDS,numBreaks = 20,startVal = 0, endVal = 100 )
rxHistogram(~fare_amount, data = sqlTaxiDS,numBreaks = 30,startVal = 0, endVal = 100 )
rxHistogram(~fare_amount, data = sqlTaxiDS,numBreaks = 30,startVal = 0, endVal = 100 )
rxHistogram(~log(fare_amount), data = sqlTaxiDS,numBreaks = 30)
x<- rxDataStep(inData = sqlTaxiDS,varsToKeep = c("fare_amount"))
View(x)
x<-log(x$fare_amount)
hist(x)
